<% include ../partials/header %>

<h1>Flight Details</h1>
<table>
  <tr>
    <th>Airline</th>
    <th>Airport</th>
    <th>Flight No.</th>
    <th>Departure Date/Time</th>
  </tr>
  <tr>
    <td><%= flight.airline %></td>
    <td><%= flight.airport %></td>
    <td><%= flight.flightNo %></td>
    <td><%= flight.formattedDeparts %></td>
  </tr>
</table>

<h2>Destinations</h2>
<ul>
  <% flight.destinations.forEach(destination => { %>
    <li>Airport: <%= destination.airport %> - Arrival Date/Time: <%= destination.arrival %></li>
  <% }); %>
</ul>

<h2>Add Destination</h2>
<form action="/flights/<%= flight._id %>/add-destination" method="POST">
  <label for="airport">Airport:</label>
  <select name="airport" required>
    <option value="AUS">AUS</option>
    <option value="DFW">DFW</option>
    <option value="DEN">DEN</option>
    <option value="LAX">LAX</option>
    <option value="SAN">SAN</option>
  </select>

  <label for="arrival">Arrival Date/Time:</label>
  <input type="datetime-local" name="arrival" required>

  <button type="submit">Add Destination</button>
</form>

<a href="/flights">Back to Flights List</a>

<% include ../partials/footer %>